import{u as o,h as f,r as t,a as u,s as h,b as g,o as C,i as v,c as p,t as L,d as P,j as B}from"./assets/helpers-DbQmz7GR.js";import{i}from"./assets/vendor-COXuPeDw.js";let a=null;o();c();function c(){const e=f();if(!e.length){t.products.innerHTML="",t.notFound&&t.notFound.classList.add("not-found--visible"),d([]);return}t.notFound&&t.notFound.classList.remove("not-found--visible"),Promise.all(e.map(s=>u(s))).then(s=>{t.products.innerHTML=h(s),d(s)}).catch(()=>{i.error({message:"Please try again later."})})}function d(e){const s=e.length,n=e.reduce((r,m)=>r+(Number(m.price)||0),0);t.cartItemsValue&&(t.cartItemsValue.textContent=s),t.cartTotalValue&&(t.cartTotalValue.textContent=`$${n}`)}t.products.addEventListener("click",e=>{const s=e.target.closest(".products__item");if(!s)return;const n=s.dataset.id;a=n,u(n).then(r=>{t.modalProduct.innerHTML=g(r),l(n),C()}).catch(()=>{i.error({message:"Please try again later."})})});function l(e){t.modalBtnWishlist.textContent=v(e)?"Remove from Wishlist":"Add to Wishlist",t.modalBtnCart.textContent=p(e)?"Remove from Cart":"Add to Cart"}t.modalBtnWishlist.addEventListener("click",()=>{a&&(L(a),l(a),o())});t.modalBtnCart.addEventListener("click",()=>{a&&(P(a),l(a),o(),c())});t.buyBtn&&t.buyBtn.addEventListener("click",()=>{B(),o(),c(),i.success({message:"Purchase successful!"})});
//# sourceMappingURL=cart.js.map
