{"version":3,"file":"helpers-DbQmz7GR.js","sources":["../../src/js/refs.js","../../src/js/constants.js","../../src/js/products-api.js","../../src/js/render-function.js","../../src/js/modal.js","../../src/js/storage.js","../../src/js/helpers.js"],"sourcesContent":["export const refs = {\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  notFound: document.querySelector('.not-found'),\n  modal: document.querySelector('.modal'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalBtnWishlist: document.querySelector('.modal-product__btn--wishlist'),\n  modalBtnCart: document.querySelector('.modal-product__btn--cart'),\n  cartItemsValue: document.querySelector('[data-count]'),\n  cartTotalValue: document.querySelector('[data-price]'),\n  buyBtn: document.querySelector('.cart-summary__btn'),\n};\n","export const LS_KEYS = {\n  WISHLIST: 'wishlist',\n  CART: 'cart',\n  THEME: 'theme',\n};\n\nexport const PAGE_SIZE = 12;\n","import axios from 'axios';\nimport { PAGE_SIZE } from './constants';\n\naxios.defaults.baseURL = 'https://dummyjson.com';\nexport function getCategorys() {\n  return axios\n    .get('/products/category-list')\n    .then(response => response.data)\n    .catch(error => {\n      throw error;\n    });\n}\n\nexport function getProductsByCategory(category, page) {\n  let skip = (page - 1) * PAGE_SIZE;\n\n  if (category === 'All') {\n    return axios\n      .get(`/products?limit=${PAGE_SIZE}&skip=${skip}`)\n      .then(response => response.data)\n      .catch(error => {\n        throw error;\n      });\n  } else {\n    return axios\n      .get(`/products/category/${category}?limit=${PAGE_SIZE}&skip=${skip}`)\n      .then(response => response.data)\n      .catch(error => {\n        throw error;\n      });\n  }\n}\n\nexport function getProductsById(id) {\n  return axios\n    .get(`/products/${id}`)\n    .then(response => response.data)\n    .catch(error => {\n      throw error;\n    });\n}\n","export function showProducts(products) {\n  return products\n    .map(({ id, title, category, price, thumbnail }) => {\n      return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: $${price}</p>\n </li>\n`;\n    })\n    .join('');\n}\n\nexport function showModalProduct({\n  title,\n  price,\n  tags,\n  description,\n  thumbnail,\n  brand,\n  category,\n}) {\n  const tagsMarkup = Array.isArray(tags)\n    ? tags.map(tag => `<li class=\"modal-product__tag\">${tag}</li>`).join('')\n    : '';\n  const fallbackTags = !tagsMarkup\n    ? `<li class=\"modal-product__tag\">${brand ?? ''}</li><li class=\"modal-product__tag\">${category ?? ''}</li>`\n    : '';\n\n  return `<img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${title}</p>\n      <ul class=\"modal-product__tags\">${tagsMarkup || fallbackTags}</ul>\n      <p class=\"modal-product__description\">${description}</p>\n      <p class=\"modal-product__shipping-information\">Shipping:</p>\n      <p class=\"modal-product__return-policy\">Return Policy:</p>\n      <p class=\"modal-product__price\">Price: $${price}</p>\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n    </div>`;\n}\n","import { refs } from './refs';\n\nfunction handleEsc(event) {\n  if (event.key === 'Escape') closeModal();\n}\n\nexport function openModal() {\n  refs.modal.classList.add('modal--is-open');\n  document.addEventListener('keydown', handleEsc);\n}\n\nexport function closeModal() {\n  refs.modal.classList.remove('modal--is-open');\n  refs.modalProduct.innerHTML = '';\n  document.removeEventListener('keydown', handleEsc);\n}\n\nrefs.modalCloseBtn.addEventListener('click', closeModal);\n\nrefs.modal.addEventListener('click', event => {\n  if (event.target === refs.modal) closeModal();\n});\n","import { LS_KEYS } from './constants';\n\nfunction readArray(key) {\n  try {\n    const raw = localStorage.getItem(key);\n    const parsed = raw ? JSON.parse(raw) : [];\n    return Array.isArray(parsed) ? parsed : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction writeArray(key, arr) {\n  localStorage.setItem(key, JSON.stringify(arr));\n}\n\nfunction toggleId(key, id) {\n  const strId = String(id);\n  const list = readArray(key);\n  const idx = list.indexOf(strId);\n\n  if (idx === -1) list.push(strId);\n  else list.splice(idx, 1);\n\n  writeArray(key, list);\n  return list;\n}\nexport function getWishlist() {\n  return readArray(LS_KEYS.WISHLIST);\n}\nexport function setWishlist(ids) {\n  writeArray(LS_KEYS.WISHLIST, ids.map(String));\n}\nexport function toggleWishlist(id) {\n  return toggleId(LS_KEYS.WISHLIST, id);\n}\nexport function getCart() {\n  return readArray(LS_KEYS.CART);\n}\nexport function setCart(ids) {\n  writeArray(LS_KEYS.CART, ids.map(String));\n}\nexport function toggleCart(id) {\n  return toggleId(LS_KEYS.CART, id);\n}\nexport function isInWishlist(id) {\n  return getWishlist().includes(String(id));\n}\nexport function isInCart(id) {\n  return getCart().includes(String(id));\n}\n\nexport function clearCart() {\n  writeArray(LS_KEYS.CART, []);\n}\nexport function clearWishlist() {\n  writeArray(LS_KEYS.WISHLIST, []);\n}\n","import { getCart, getWishlist } from './storage';\n\nexport function updateNavCounts(refs) {\n  const cartCountEl = document.querySelector('[data-cart-count]');\n  const wishlistCountEl = document.querySelector('[data-wishlist-count]');\n\n  const cart = getCart();\n  const wishlist = getWishlist();\n\n  if (cartCountEl) cartCountEl.textContent = cart.length;\n  if (wishlistCountEl) wishlistCountEl.textContent = wishlist.length;\n}\n"],"names":["refs","LS_KEYS","PAGE_SIZE","axios","getCategorys","response","error","getProductsByCategory","category","page","skip","getProductsById","id","showProducts","products","title","price","thumbnail","showModalProduct","tags","description","brand","tagsMarkup","tag","fallbackTags","handleEsc","event","closeModal","openModal","readArray","key","raw","parsed","writeArray","arr","toggleId","strId","list","idx","getWishlist","toggleWishlist","getCart","toggleCart","isInWishlist","isInCart","clearCart","updateNavCounts","cartCountEl","wishlistCountEl","cart","wishlist"],"mappings":"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"}